# Веб-приложение для новостей (Backend)

## Описание
Backend часть веб-приложения для новостей, написанная на Node.js с использованием Express.js и MongoDB. Приложение поддерживает регистрацию, авторизацию пользователей, загрузку аватарок, добавление и удаление новостей и комментариев.

## Функциональность
- **Регистрация и авторизация пользователей**
- **Управление новостями:** добавление, удаление, получение списка новостей
- **Управление комментариями:** добавление, редактирование, удаление комментариев
- **Загрузка аватарок пользователей** с использованием Cloudinary

## Технологии
- Node.js
- Express.js
- MongoDB
- TypeScript
- JSON Web Token
- Cloudinary

## Установка и запуск
1. Клонируйте репозиторий:
```bash
git clone <URL-репозитория>
cd <название-папки>
```

2. Установите npm-пакет с помощью команды:
```sh
$ npm i 
```

3. Создайте файл .env в корне проекта и добавьте следующие переменные окружения:
```sh
PORT
DB_URL
JWT_ACCESS_SECRET
JWT_REFRESH_SECRET
API_URL
CLIENT_URL
CLOUDINARY_CLOUD_NAME
CLOUDINARY_API_KEY
CLOUDINARY_SECRET_KEY
```

4. Запустите проект:
```sh
npm start
```

## API Эндпоинты
+ `auth`
   + POST /auth/registration - Регистрация пользователя
   + POST /auth/validate - Валидация пользовательских данных при регистрации
   + POST /auth/validate-login - Валидация пользовательских данных при авторизации
   + POST /auth/login - Авторизация пользователя
   + POST /auth/logout - Выход пользователя из системы
   + DELETE /auth/delete-user/:id - Удаление пользователя
   + GET /auth/refresh - Обновление jwt токена
   + GET /auth/:userId/comments - Получение комментариев определенного пользователя
+ `news`
   + POST /news/ - Добавление новости
   + GET /news/ - Получение новостей
   + GET /news/:newsId/comments - Получение комментариев определенной новости
   + GET /news/:id - Получение определенной новости
   + PATCH /news/:id - Изменение определенной новости
   + DELETE /news/:id - Удаление новости
+ `comments`
   + POST /comments/ - Добавление комментария
   + GET /comments/ - Получение комментариев
   + GET /comments/:id - Получение определенного комментария
   + PATCH /comments/:id - Изменение определенного комментария
   + PATCH /comments/bulk-update - Изменение определенного количества комментариев
   + DELETE /comments/:id - Удаление комментария
+ `image`
   + POST /image/upload - Добавление фотографии
   + DELETE /image/delete/:id - Удаление фотографии

## Структура проекта
+ `src/`
   + `controllers/` - Обработка HTTP-запросов
   + `dtos/` - Объекты передачи данных
   + `exeptions/` - Обработка ошибок и исключений
   + `middlewares/` - Промежуточные обработчики запросов
   + `models/` - Модели данных и схемы базы данных
   + `routes/` - Определение маршрутов API
   + `service/` - Бизнес-логика и обработка данных
   + `utils/` - Вспомогательные функции и утилиты